<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Trig with JS</title>
</head>
<body>

<canvas id="myCanvas"
        width="500px" height="500px"
        style="background-color: white">
</canvas>

<style>
  body{
    background-color: black;
    margin: 0;
    overflow: hidden;
  }
</style>

<script>
  //Creates new canvas
  const ctx=myCanvas.getContext("2d");

  // Creates offset so that points are in the middle of the canvas and easier to see
  const offset={
    x:myCanvas.width/2,
    y:myCanvas.height/2
  };

  //Set point values
  const A={x:0, y:0};
  const B={x:90, y:120};
  const C={x:B.x, y:0};

  // Translates the offset
  ctx.translate(offset.x, offset.y);

  // Call update function so that screen is not blank initially
  update();

  // Add event listener for mouse move
  document.onmousemove=(event)=>{
    B.x=event.x-offset.x;
    B.y=event.y-offset.y;

    C.x=B.x;

    update();
  }
  // Refresh everytime we move our mouse
  function update() {
    //Find the distance between two points
    const c = distance(A, B);
    const a = distance(B, C);
    const b = distance(A, C);

    ctx.clearRect(-offset.x, -offset.y, myCanvas.width, myCanvas.height);

    // Draw the x,y coordinate system
    drawCoordinateSystem(ctx, offset);

    // Draw lines between the points to create a triangle and create text labels
    drawLine(A, B);
    drawText("c:" + Math.round(c), average(A, B));
    drawLine(A, C);
    drawText("b:" + Math.round(b), average(A, C));
    drawLine(B, C);
    drawText("a:" + Math.round(a), average(B, C));
  }

  // Functions for average and distance to add to text labels
  function average(p1,p2){
    return{
      x:(p1.x+p2.x)/2,
      y:(p1.y+p2.y)/2
    };
  }
 // Length of the hypotenuse
  function distance(p1,p2) {
    return Math.hypot(p1.x-p2.x,p1.y-p2.y);
  }
  // Add Text to Points so it is clearer where they are
  function drawText(text,loc,color="black") {
    ctx.beginPath();
    ctx.fillStyle=color;
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.font="bold 13px Courier";
    ctx.fillText(text,loc.x,loc.y);
  }

  // Function to create individual points
  function drawPoint(loc,size=20,color="black") {
    ctx.beginPath();
    ctx.fillStyle = color;
    ctx.arc(loc.x, loc.y, size/2, 0, Math.PI * 2);
    ctx.fill();
  }

  // Function to draw lines from point to point
  function drawLine(p1, p2, color="black") {
    ctx.beginPath();
    ctx.strokeStyle=color;
    ctx.lineWidth=2;
    ctx.moveTo(p1.x,p1.y);
    ctx.lineTo(p2.x,p2.y);
    ctx.stroke();
  }

  // Function to draw x,y coordinate system
  function drawCoordinateSystem(ctx,offset) {
    ctx.beginPath();
    ctx.moveTo(-offset.x, 0);
    ctx.lineTo(ctx.canvas.width - offset.x, 0);
    ctx.moveTo(0, -offset.y);
    ctx.lineTo(0, ctx.canvas.height - offset.y);
    ctx.setLineDash([4, 2]);
    ctx.lineWidth = 1;
    ctx.strokeStyle = "gray";
    ctx.stroke();
    ctx.setLineDash([]);
  }

</script>
</body>
</html>